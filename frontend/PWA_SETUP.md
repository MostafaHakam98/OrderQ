# PWA Setup Guide for OrderQ

OrderQ is now configured as a Progressive Web App (PWA), allowing iPhone users to install it directly from Safari without going through the App Store.

## Features

✅ **PWA Manifest** - Defines app metadata, icons, and display mode  
✅ **Service Worker** - Enables offline functionality and caching  
✅ **iOS Support** - Optimized for iPhone "Add to Home Screen"  
✅ **Auto-updates** - Service worker automatically updates when new version is available  

## Installation on iPhone

1. **Open OrderQ in Safari** (must be Safari, not Chrome)
2. **Tap the Share button** (square with arrow pointing up)
3. **Scroll down and tap "Add to Home Screen"**
4. **Customize the name** (defaults to "OrderQ")
5. **Tap "Add"**

The app will now appear on your home screen with an icon and launch in full-screen mode!

## Requirements

- **HTTPS Required**: PWA features only work over HTTPS (or localhost for development)
- **Safari Browser**: iPhone users must use Safari to add to home screen
- **iOS 11.3+**: Required for PWA support on iOS

## Development

### Generate Icons

If you need to regenerate the PWA icons:

```bash
npm run generate-icons
```

This will create:
- `icon-192x192.png` - Standard PWA icon
- `icon-512x512.png` - High-resolution PWA icon  
- `apple-touch-icon.png` - iOS home screen icon (180x180)

### Build for Production

```bash
npm run build
```

The build process will:
- Generate the service worker
- Include PWA manifest
- Optimize assets for production

### Testing PWA Locally

1. Build the app: `npm run build`
2. Preview: `npm run preview`
3. Open in Safari (for iOS testing, use a device or simulator)
4. Check browser console for service worker registration

## Configuration

### Manifest Settings

The PWA manifest is configured in `vite.config.js`:
- **Display Mode**: `standalone` (full-screen app experience)
- **Theme Color**: `#2563eb` (blue)
- **Background Color**: `#ffffff` (white)
- **Orientation**: `portrait-primary`

### Service Worker

The service worker is automatically generated by `vite-plugin-pwa`:
- Caches static assets (JS, CSS, HTML, images)
- Implements network-first strategy for API calls
- Cache-first strategy for images
- Auto-updates when new version is deployed

## Troubleshooting

### Icons not showing
- Ensure icons are in `/public` directory
- Run `npm run generate-icons` to regenerate
- Clear browser cache and service worker

### "Add to Home Screen" not appearing
- Must use Safari (not Chrome or other browsers)
- Site must be served over HTTPS
- Check that manifest.json is accessible

### Service worker not registering
- Check browser console for errors
- Ensure site is served over HTTPS (or localhost)
- Clear existing service workers in browser settings

## Production Deployment

1. **Deploy to HTTPS**: PWAs require HTTPS (except localhost)
2. **Build the app**: `npm run build`
3. **Serve static files**: The `dist/` folder contains all files
4. **Configure server**: Ensure proper MIME types for manifest.json

### Recommended Hosting Options

- **Vercel** - Free tier with HTTPS
- **Netlify** - Free tier with HTTPS
- **GitHub Pages** - Free with HTTPS
- **Cloudflare Pages** - Free tier with HTTPS
- **Your own server** - With SSL certificate (Let's Encrypt is free)

## Browser Support

- ✅ Chrome/Edge (Android & Desktop)
- ✅ Safari (iOS 11.3+ & macOS)
- ✅ Firefox (Android & Desktop)
- ✅ Samsung Internet

## Next Steps

- [ ] Deploy to HTTPS hosting
- [ ] Test on actual iPhone device
- [ ] Customize app icons if needed
- [ ] Add offline fallback page
- [ ] Configure push notifications (optional)

